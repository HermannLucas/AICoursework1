adj(X,Y) :- adj(Y,X).

{pit(X)} :- adj(X,Y).

{pit(X) : breeze(Y), adj(X,Y)} = 1.
:- pit(X), -breeze(Y), adj(X,Y).
:- pit(X), breeze(X).
:- pit(X), -breeze(X).

{wumpus(X) : stench(Y), adj(X,Y)} = 1.
:- wumpus(X), -stench(Y), adj(X,Y).
:- wumpus(X), stench(X).
:- wumpus(X), -stench(X).

totalpits(X) :- X = #sum{wumpus(Y)}.
